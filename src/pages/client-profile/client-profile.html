
<ion-header style="background-color: #F2F2F2;">
  <ion-navbar  hideBackButton>
    <ion-row>

      <ion-col col-1 (click)="dismiss()">
        <ion-icon *ngIf="dir==true"  style="font-size: 35px;" name="ios-arrow-round-forward-outline"></ion-icon>
        <ion-icon *ngIf="dir==false"  style="font-size: 35px;" name="ios-arrow-round-back-outline"></ion-icon>
      </ion-col>

      <ion-col *ngIf="comefrom=='userprofile'"  col-10 style="text-align: center;margin-top: 0px;">
          <ion-title  style="color: #214952;">{{"Menu.profile"|translate}}</ion-title>
      </ion-col>

      <ion-col *ngIf="comefrom=='adminPanel'"  col-7 style="text-align: center;">
        <ion-title style="color: #07133c;">{{name}}</ion-title>
      </ion-col>

      <ion-col *ngIf="dir==true && comefrom=='userprofile'" col-1 (click)="edit()" style="margin-top: 6px;padding-top: 14px;transform: rotate(90deg);">
          <img src="../../assets/imgs/edit.png" >
      </ion-col>

      <ion-col *ngIf="dir==false && comefrom=='userprofile'" col-1 (click)="edit()" style="margin-top: 6px;padding-top: 14px;">
        <img src="../../assets/imgs/edit.png" >
      </ion-col>

      <ion-col col-4  >

      </ion-col>

    </ion-row>
  </ion-navbar>
</ion-header>

<ion-content   style="background-color: #F2F2F2;margin-bottom: 87px !important;padding-bottom: 0px;position:relative">

  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>


  <div *ngIf="noData">

  </div>

  <ion-card class="UserData">
    <ion-card-header style="background: #e4e4e4">
      {{"User Data"|translate}}
    </ion-card-header>
    <ion-card-content>
      <ion-row style="    margin: 7px 0px;">
        <ion-col col-5 style="color:#FFAA45;font-size: 18px;"> {{"Email"|translate}} </ion-col>
        <ion-col col-7>  </ion-col>
      </ion-row>
    
      <div style="text-align: center;">
          {{email}}
      </div>
    
      <ion-row style="    margin: 7px 0px;">
          <ion-col col-5 style="color:#FFAA45;font-size: 18px"> {{"name"|translate}} </ion-col>
          <ion-col col-7>  </ion-col>
      </ion-row>
      <div style="text-align: center;">
          {{name}}
      </div>

      <!-- for cleint profile -->

      <ion-row *ngIf="comefrom=='userprofile'">
        <ion-col col-5 style="color:#FFAA45;font-size: 18px;"> {{"password"|translate}} </ion-col>
        <ion-col col-7>  </ion-col>
      </ion-row>
    
      <div *ngIf="comefrom=='userprofile'">
        <ion-row>
          <ion-col  col-11 style="text-align: center;">
            <ion-input style="border-bottom: none !important;    text-align: center !important;margin: 0px !important;" readonly [value]="Password" [type]="passwordType" clearOnEdit="false"></ion-input>
          </ion-col>
          <ion-col col-1 >
            <ion-icon item-end [name]="passwordIcon" class="passwordIcon" (click)="hideShowPassword()"></ion-icon>
          </ion-col>
        </ion-row>
      </div>


      <ion-row style="    margin: 7px 0px;">
        <ion-col col-7 style="color:#FFAA45;font-size: 18px"> {{"mobile"|translate}} </ion-col>
        <ion-col col-5>  </ion-col>
      </ion-row>
      <div style="text-align: center;">
          {{mobileNumber}}
      </div>


      <ion-row style="margin: 7px 0px;">
        <ion-col col-5 style="color:#FFAA45;font-size: 18px"> {{"gender"|translate}} </ion-col>
        <ion-col col-7>  </ion-col>
      </ion-row>
    
      <div style="text-align: center;">
          {{gender}}
      </div>

      <div *ngIf="!DataNotCompleted">
          <ion-row style="margin: 7px 0px;">
            <ion-col col-9 style="color:#FFAA45;font-size: 18px"> {{"Country"|translate}}   </ion-col>
            <ion-col col-3>   </ion-col>
          </ion-row>
    
          <div style="text-align: center;">
            {{CountryName}}
          </div>

          <ion-row style="    margin: 7px 0px;">
            <ion-col col-9 style="color:#FFAA45;font-size: 18px"> {{"City"|translate}}   </ion-col>
            <ion-col col-3>   </ion-col>
          </ion-row>
      
          <div style="text-align: center;">
            {{CityName}}
          </div>
    
          <ion-row style="margin: 7px 0px;">
              <ion-col col-4>
                  <ion-label style="color:#FFAA45;font-size: 18px" >{{"Address"|translate}}</ion-label>
              </ion-col>
              <ion-col col-8> </ion-col>
          </ion-row>
      
          <div style="text-align: center;">
            {{Address}}
          </div>
    
        <div *ngIf="!client">
    
          <div *ngIf="!noLanguages">
            <ion-row style="margin: 7px 0px;">
              <ion-col col-8>
                  <ion-label style="color:#FFAA45;font-size: 18px" >{{"Proficient_languages"|translate}}</ion-label>
              </ion-col>
              <ion-col col-4> </ion-col>
            </ion-row>
    
            <div style="text-align: center;" *ngIf="!noLanguages">
              <span *ngFor="let lang of languages;let i=index">
                {{lang}} <span *ngIf="i+1<languages.length">, </span>
              </span>
            </div>
          </div>
    
        </div>
      </div>

      <div *ngIf="cv!=null">
        <ion-row style="margin: 7px 0px;">
          <ion-col col-8>
              <ion-label style="color:#FFAA45;font-size: 18px" >CV</ion-label>
          </ion-col>
          <ion-col col-4> </ion-col>
        </ion-row>

        <div style="text-align: center;color:black">
          {{cv}}
        </div>
      </div>

      <div *ngIf="Fk_SpecializationParentID!=null">
        <ion-row style="margin: 7px 0px;">
          <ion-col col-8>
              <ion-label style="color:#FFAA45;font-size: 18px" >{{"general_feild"|translate}}</ion-label>
          </ion-col>
          <ion-col col-4> </ion-col>
        </ion-row>

        <div style="text-align: center;">
          {{Fk_SpecializationParentID}}
        </div>
      </div>

      <div *ngIf="FK_SpecializationChildID!=null">
        <ion-row style="margin: 7px 0px;">
          <ion-col col-8>
              <ion-label style="color:#FFAA45;font-size: 18px" >{{"specific_feild"|translate}}</ion-label>
          </ion-col>
          <ion-col col-4> </ion-col>
        </ion-row>

        <div style="text-align: center;">
          {{FK_SpecializationChildID}}
        </div>
      </div>

    </ion-card-content>
  </ion-card>
  
  
  <div *ngIf="!noData">
    <div id="div1" *ngIf="DataNotCompleted && comefrom=='userprofile'" style="text-align: center;padding: 0 8px;">
      <button (click)="completeProfile()" ion-button color="custom2" full style="height: 48px;border-radius: 10px;">
          {{"completeProfile"|translate}}
      </button>
    </div>
  </div>
  
  <div class="User_Permissions"  *ngIf="comefrom=='adminPanel' &&  UserTypes.length!=0">
    <ion-card>
      <ion-card-header style="background: #e4e4e4">
        {{"User Roles"|translate}}
      </ion-card-header>
      <ion-card-content>
        <ion-item  *ngFor="let role of UserTypes" style="padding-right: 0px !important;">
          <ion-label *ngIf="dir==false" style="font-size: 20px;"> {{role.UserType_En }}</ion-label>
          <ion-label *ngIf="dir==true" style="font-size: 20px;"> {{role.UserType_Ar }} </ion-label>
          <ion-toggle mode="ios" [checked]="role.IsActive"  (ionChange)="changeUserTypeActivation(role.AccountType_ID,!role.IsActive)"></ion-toggle>
        </ion-item>
      </ion-card-content>
    </ion-card>
  </div>

  <ion-card *ngIf="comefrom=='adminPanel'">
    <ion-card-header style="background: #e4e4e4">
      {{"Block User"|translate}}
    </ion-card-header>
    <ion-card-content>
      <ion-item   style="padding-right: 0px !important;">
        <ion-label *ngIf="dir==false" style="font-size: 20px;"> block</ion-label>
        <ion-label *ngIf="dir==true" style="font-size: 20px;"> block</ion-label>
        <ion-toggle mode="ios" [checked]="isblocked"  [(ngModel)]="isblocked" (ionChange)="blockuser()"></ion-toggle>
      </ion-item>
    </ion-card-content>
  </ion-card>

  <div id="div2" *ngIf="client && comefrom=='userprofile'" style="padding: 0 8px;text-align: center;">
    <button *ngIf="!isUpgraing" (click)="upgradeProfile()" ion-button color="custom2" full style=" height: 43px;border-radius: 10px;">
        {{"account_upgrade"|translate}}
    </button>

    <div (click)="trackUpgReq()" *ngIf="isUpgraing" style="    margin-bottom: 15px;color: #fff; font-size: 19px;padding-top: 0px;text-align: center;height: 40px;background: #ffaa45;border-radius: 10px;line-height: 43px;height: 48px; border-radius: 10px;">
       <p>{{"track your request"|translate}}</p>
    </div>
  </div>

  <div id="div3" *ngIf="comefrom=='userprofile' && IsJoin==false" style="padding:0 8px;text-align: center;">
    <button  (click)="joinDiscussions()" ion-button color="custom2" full style="height: 43px;border-radius: 10px;">
        {{"join_discussion"|translate}}
    </button>

  </div>

  <div id="div4" *ngIf="DataNotCompleted && comefrom=='userprofile'" >
    <div style="color:#214952;font-size: 11px;text-align: center;">
      * {{ "completeNote" |translate}}
    </div>
  </div>

  
</ion-content>

